[#ftl]
[#import "libraries/backgrounds.ftl" as backgrounds]

MAP
  NAME "OS-Modern"
  STATUS ON
  SIZE 400 300
  EXTENT 0 0 700000 900000
  UNITS METERS
  IMAGECOLOR 255 255 255
  IMAGETYPE "png"
  
  OUTPUTFORMAT
     NAME "png"
     DRIVER "AGG/PNG"
     IMAGEMODE RGBA
     MIMETYPE image/png
     EXTENSION png
     TRANSPARENT OFF
  END
  

  WEB
    IMAGEPATH "/ms4w/tmp/ms_tmp/"
    IMAGEURL "/ms_tmp/"
    METADATA
      "wms_title"     "OS-Modern"  ##required
      "wms_onlineresource" "http://nbnweb-2.nerc-lancaster.ac.uk/mapserver/OS-Modern?"   ##required
      "wms_srs"       "EPSG:27700"  ##recommended
      "wms_enable_request" "GetMap"   ##necessary
    END
  END

  PROJECTION
    "init=epsg:27700"   ##required
  END

  #
  # Start of layer definitions
  #

  [@backgrounds.os location=contextLayersLocation requires=[]/]

  LAYER
    NAME "MiniScale-Grid"
    METADATA
      "wms_title"    "Ordnance Survey MiniScale - Grid (Modern)"   ##required
    END
    TYPE RASTER
    STATUS ON
    DATA "${contextLayersLocation}\OS\MiniScale\raster\MiniScale_(with_grid)_R13.tif"   
    PROJECTION
      "init=epsg:27700"   ##recommended
    END

    MINSCALEDENOM 150000   ##Scale Dependency
  END # Layer

  LAYER
    NAME "MiniScale-Relief1"
    METADATA
      "wms_title"    "Ordnance Survey MiniScale - Relief 1 (Modern)"   ##required
    END
    TYPE RASTER
    STATUS ON
    DATA "${contextLayersLocation}\OS\MiniScale\raster\MiniScale_(with_relief1)_R13.tif"
    PROJECTION
      "init=epsg:27700"   ##recommended
    END

    MINSCALEDENOM 150000   ##Scale Dependency
  END # Layer

  LAYER
    NAME "MiniScale-Relief2"
    METADATA
      "wms_title"    "Ordnance Survey MiniScale - Relief 2 (Modern)"   ##required
    END
    TYPE RASTER
    STATUS ON
    DATA "${contextLayersLocation}\OS\MiniScale\raster\MiniScale_(with_relief2)_R13.tif"
    PROJECTION
      "init=epsg:27700"   ##recommended
    END

    MINSCALEDENOM 150000   ##Scale Dependency
  END # Layer

END # Map File