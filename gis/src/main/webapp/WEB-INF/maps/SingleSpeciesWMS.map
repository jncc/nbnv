[#ftl]
[#assign layers=[
    {"resolution": 1,     "name": "Grid-10km",   "fillColour": "255 255 0"  },
    {"resolution": 2,     "name": "Grid-2km",    "fillColour": "0 255 0"    },
    {"resolution": 3,     "name": "Grid-1km",    "fillColour": "0 255 255"  },
    {"resolution": 4,     "name": "Grid-100m",   "fillColour": "255 0 0"    }
]]

MAP
    IMAGETYPE                                             PNG
    EXTENT                                                0 0 800000 800000
    SIZE                                                  2800 2800
    IMAGECOLOR                                            255 255 255
    FONTSET                                               "fonts/fontset"

    WEB
        IMAGEPATH                                           "/ms4w/tmp/ms_tmp/"
        IMAGEURL                                            "/ms_tmp/"
        METADATA
            "wms_title"                                       "Single Species Map"
            "wms_onlineresource"                              "http://NBNImporter-a.nerc-lancaster.ac.uk/mapserver/SingleSpeciesWMS?"
            "wms_srs"                                         "EPSG:29903 EPSG:27700 EPSG:4326 EPSG:3857"
            "wms_enable_request"                              "*"
        END
    END

    PROJECTION
        "init=epsg:27700"
    END

    [#list layers as layer]
        LAYER
            NAME                                                "${layer.name}"
            TYPE                                                POLYGON
            STATUS                                              OFF
            CONNECTIONTYPE                                      PLUGIN
            PLUGIN                                              "msplugin_mssql2008.dll"
            CONNECTION                                          "${properties.spatialConnection}"
            DATA                                                "${layerGenerator.getData(layer.resolution)}"

            METADATA
                "wms_title"                                       "${layer.name}"
            END

            PROJECTION
                "init=epsg:4326"
            END

            CLASS
                NAME                                              "10km std"
                STYLE
                    COLOR                                           ${layer.fillColour}
                    OUTLINECOLOR                                    0 0 0
                    WIDTH                                           0.5
                END
            END
        END
    [/#list]
END